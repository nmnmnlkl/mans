<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>نظام الجفر الذكي المتقدم - تحليل الأوفاق الدقيق</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap');
    body {
      font-family: 'Tajawal', sans-serif;
      background: linear-gradient(135deg, #f8f5f2 0%, #f0e6d8 100%);
    }
    .highlight-cell {
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(74, 222, 128, 0.4); }
      50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(74, 222, 128, 0); }
      100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(74, 222, 128, 0); }
    }
    .fade-in {
      animation: fadeIn 1.5s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .result-badge {
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }
    .result-badge:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
    }
    .char-analysis {
      transition: all 0.3s ease;
    }
    .char-analysis:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      z-index: 10;
    }
    .progress-bar {
      height: 8px;
      border-radius: 4px;
      overflow: hidden;
      background-color: #e5e7eb;
    }
    .progress-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 1s ease-in-out;
    }
    .wafq-cell {
      position: relative;
      transition: all 0.2s ease;
    }
    .wafq-cell:hover {
      transform: scale(1.1);
      z-index: 5;
    }
    .analysis-card {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease;
    }
    .analysis-card:hover {
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
      transform: translateY(-3px);
    }
  </style>
</head>
<body class="min-h-screen">
  <div class="container mx-auto px-4 py-8 max-w-6xl">
    <!-- Header -->
    <header class="text-center mb-12">
      <div class="flex flex-col items-center justify-center mb-4">
        <div class="flex items-center">
          <i class="fas fa-star-and-crescent text-5xl text-amber-600 mr-3"></i>
          <h1 class="text-4xl md:text-5xl font-bold text-gray-800">نظام الجفر الذكي المتقدم</h1>
        </div>
        <p class="text-gray-600 text-xl mt-2">تحليل الأوفاق التلقائي باستخدام خوارزميات متقدمة في علم الحروف والأعداد</p>
      </div>
    </header>

    <!-- Input Section -->
    <div class="bg-white rounded-2xl shadow-xl p-8 mb-8 border border-amber-200 analysis-card">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-6">
        <div>
          <label for="name" class="block text-gray-700 font-bold mb-3 text-lg">
            <i class="fas fa-user mr-2 text-amber-600"></i>
            اسم الشخص
          </label>
          <div class="relative">
            <input type="text" id="name" placeholder="اكتب الاسم الكامل"
                    class="w-full px-5 py-4 rounded-xl border-2 border-amber-300 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition duration-300 text-lg">
          </div>
        </div>
                
        <div>
          <label for="mother" class="block text-gray-700 font-bold mb-3 text-lg">
            <i class="fas fa-female mr-2 text-amber-600"></i>
            اسم الأم
          </label>
          <div class="relative">
            <input type="text" id="mother" placeholder="اسم الأم كاملاً"
                    class="w-full px-5 py-4 rounded-xl border-2 border-amber-300 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition duration-300 text-lg">
          </div>
        </div>
      </div>

      <div class="mb-8">
        <label for="question" class="block text-gray-700 font-bold mb-3 text-lg">
          <i class="fas fa-question-circle mr-2 text-amber-600"></i>
          السؤال أو النية
        </label>
        <textarea id="question" rows="5" placeholder="اكتب سؤالك أو نيتك بالتفصيل..."
                   class="w-full px-5 py-4 rounded-xl border-2 border-amber-300 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition duration-300 text-lg"></textarea>
      </div>

      <div class="flex justify-center mt-6">
        <button onclick="calculate()"
                 class="px-10 py-4 bg-gradient-to-r from-amber-500 via-amber-600 to-amber-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition duration-300 transform hover:scale-105 flex items-center text-xl">
          <i class="fas fa-calculator ml-3"></i>
          احسب الجواب من الأوفاق
        </button>
      </div>
    </div>

    <!-- Results Section -->
    <div id="output" class="hidden bg-white rounded-2xl shadow-xl p-8 border border-amber-200 fade-in analysis-card">
      <!-- Results will be dynamically inserted here -->
    </div>

    <!-- Info Section -->
    <div class="mt-12 bg-gradient-to-r from-amber-50 to-amber-100 rounded-2xl p-8 border border-amber-200 analysis-card">
      <h3 class="text-2xl font-bold text-amber-800 mb-6 flex items-center">
        <i class="fas fa-info-circle ml-3 text-amber-700"></i>
        عن نظام الجفر الذكي المتقدم
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h4 class="text-xl font-bold text-amber-700 mb-3">المنهجية العلمية</h4>
          <p class="text-gray-700 mb-4 leading-relaxed">
            يعتمد النظام على خوارزميات متقدمة في تحليل الأوفاق باستخدام علم الحروف والأعداد، مع دمج تقنيات تحليل النصوص والبيانات الحديثة لضمان دقة النتائج.
          </p>
          <ul class="list-disc list-inside text-gray-700 space-y-2 pl-4">
            <li>تحليل دقيق للحروف باستخدام حساب الجُمَّل الكبير والصغير</li>
            <li>استخدام معادلات رياضية متقدمة لتحديد حجم الوفق الأمثل</li>
            <li>تحليل سياقي متعمق للأسئلة باستخدام تقنيات الذكاء الاصطناعي</li>
            <li>تفسير الأرقام وفق علوم الأعداد والرموز القديمة</li>
          </ul>
        </div>
        
        <div>
          <h4 class="text-xl font-bold text-amber-700 mb-3">ميزات النظام</h4>
          <div class="space-y-4">
            <div class="flex items-start">
              <i class="fas fa-brain text-amber-600 text-xl mt-1 mr-3"></i>
              <div>
                <h5 class="font-bold text-gray-800">تحليل متعدد الأبعاد</h5>
                <p class="text-gray-700">تحليل متكامل يشمل الأسماء، السؤال، والعلاقات بين الحروف والأرقام</p>
              </div>
            </div>
            <div class="flex items-start">
              <i class="fas fa-cogs text-amber-600 text-xl mt-1 mr-3"></i>
              <div>
                <h5 class="font-bold text-gray-800">خوارزميات متقدمة</h5>
                <p class="text-gray-700">استخدام معادلات رياضية معقدة لاستخراج النتائج بدقة عالية</p>
              </div>
            </div>
            <div class="flex items-start">
              <i class="fas fa-chart-line text-amber-600 text-xl mt-1 mr-3"></i>
              <div>
                <h5 class="font-bold text-gray-800">تفسيرات تفصيلية</h5>
                <p class="text-gray-700">تقديم تحليلات شاملة مع تفسيرات سياقية لكل نتيجة</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // القيم العددية المتقدمة لحساب الجمل (الكبير والصغير)
    const abjad = {
      'ا':1, 'أ':1, 'إ':1, 'آ':1, 'ء':1,
      'ب':2, 'ج':3, 'د':4, 'ه':5, 'ة':5,
      'و':6, 'ؤ':6, 'ز':7, 'ح':8, 'ط':9,
      'ي':10, 'ى':10, 'ئ':10, 'ك':20, 'ل':30,
      'م':40, 'ن':50, 'س':60, 'ع':70, 'ف':80,
      'ص':90, 'ق':100, 'ر':200, 'ش':300, 'ت':400,
      'ث':500, 'خ':600, 'ذ':700, 'ض':800, 'ظ':900,
      'غ':1000, ' ':0
    };

    // القيم الصغيرة (حساب أبجد هوز)
    const smallAbjad = {
      'ا':1, 'أ':1, 'إ':1, 'آ':1, 'ء':1,
      'ب':2, 'ج':3, 'د':4, 'ه':5, 'ة':5,
      'و':6, 'ؤ':6, 'ز':7, 'ح':8, 'ط':9,
      'ي':10, 'ى':10, 'ئ':10, 'ك':11, 'ل':12,
      'م':13, 'ن':14, 'س':15, 'ع':16, 'ف':17,
      'ص':18, 'ق':19, 'ر':20, 'ش':21, 'ت':22,
      'ث':23, 'خ':24, 'ذ':25, 'ض':26, 'ظ':27,
      'غ':28, ' ':0
    };

    // تحليل الحروف المفصل
    const letterAnalysis = {
      1: "قوة، بداية، قيادة",
      2: "توازن، شراكة، حساسية",
      3: "إبداع، تواصل، تعبير",
      4: "استقرار، تنظيم، عملية",
      5: "حرية، تغيير، مغامرة",
      6: "مسؤولية، انسجام، منزل",
      7: "حكمة، تحليل، روحانية",
      8: "قوة، إنجاز، وفرة",
      9: "اكتمال، إنسانية، حكمة",
      10: "قيادة، ابتكار، طموح",
      20: "حدس، تعاون، حساسية",
      30: "تعبير، إبداع، اجتماعية",
      40: "تنظيم، عملية، بناء",
      50: "تغيير، حرية، تنوع",
      60: "مسؤولية، عائلة، انسجام",
      70: "روحانية، حكمة، تحليل",
      80: "قوة مادية، إنجاز، طموح",
      90: "إنسانية، حكمة، خير عام",
      100: "قيادة، ابتكار، طموح كبير",
      200: "حدس قوي، تعاون، حساسية",
      300: "تعبير إبداعي، تفكير تحليلي، حكمة"
    };